<-- START_DESCRIPTION -->

# Flutter Baidu Mapapi Utils Package
=====================================

The `flutter_baidu_mapapi_utils` package is a utility library for working with Baidu Maps in Flutter applications. It provides a set of tools and widgets to help developers integrate Baidu Maps into their apps.

## When to Use This Package
---------------------------

This package is useful when you need to:

* Calculate distances and angles between two points on the map
* Convert between different coordinate systems (e.g., BD09 to GCJ02)
* Get the current location and address information
* Search for points of interest (POIs) near a given location

## Features
------------

* Distance and angle calculations
* Coordinate system conversions
* Location and address information retrieval
* POI search

<-- END_DESCRIPTION -->

<-- START_TUTORIAL -->

# Setup and Usage
==================

## Step 1: Add the Package to Your Project
-----------------------------------------

Add the following line to your `pubspec.yaml` file:
```yml
dependencies:
  flutter_baidu_mapapi_utils: ^1.0.0
```
Then, run `flutter pub get` to install the package.

## Step 2: Import the Package
-----------------------------

Import the package in your Dart file:
```dart
import 'package:flutter_baidu_mapapi_utils/flutter_baidu_mapapi_utils.dart';
```
## Step 3: Initialize the Package
---------------------------------

Initialize the package with your Baidu Maps API key:
```dart
void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Baidu Maps Demo',
      home: Scaffold(
        body: Center(
          child: ElevatedButton(
            onPressed: () async {
              await FlutterBaiduMapapiUtils.init('YOUR_API_KEY');
            },
            child: Text('Initialize Baidu Maps'),
          ),
        ),
      ),
    );
  }
}
```
## Step 4: Use the Package
-------------------------

Use the package to calculate distances, convert coordinates, get location information, and search for POIs:
```dart
class RealFlutter extends StatefulWidget {
  @override
  _RealFlutterState createState() => _RealFlutterState();
}

class _RealFlutterState extends State<RealFlutter> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            ElevatedButton(
              onPressed: () async {
                // Calculate distance between two points
                double distance = await FlutterBaiduMapapiUtils.calculateDistance(
                  LatLng(39.9042, 116.4074),
                  LatLng(39.9142, 116.4174),
                );
                print('Distance: $distance meters');
              },
              child: Text('Calculate Distance'),
            ),
            ElevatedButton(
              onPressed: () async {
                // Convert coordinates
                LatLng gcj02 = await FlutterBaiduMapapiUtils.bd09ToGcj02(
                  LatLng(39.9042, 116.4074),
                );
                print('GCJ02: ${gcj02.latitude}, ${gcj02.longitude}');
              },
              child: Text('Convert Coordinates'),
            ),
            ElevatedButton(
              onPressed: () async {
                // Get location information
                Location location = await FlutterBaiduMapapiUtils.getLocation();
                print('Location: ${location.latitude}, ${location.longitude}');
              },
              child: Text('Get Location'),
            ),
            ElevatedButton(
              onPressed: () async {
                // Search for POIs
                List<Poi> pois = await FlutterBaiduMapapiUtils.searchPoi(
                  ' keyword',
                  LatLng(39.9042, 116.4074),
                );
                print('POIs: ${pois.map((poi) => poi.name).join(', ')}');
              },
              child: Text('Search POIs'),
            ),
          ],
        ),
      ),
    );
  }
}
```
<-- END_TUTORIAL -->

<-- START_MAIN -->

```dart
import 'package:flutter/material.dart';
import 'package:flutter_baidu_mapapi_utils/flutter_baidu_mapapi_utils.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Baidu Maps Demo',
      home: RealFlutter(),
    );
  }
}

class RealFlutter extends StatefulWidget {
  @override
  _RealFlutterState createState() => _RealFlutterState();
}

class _RealFlutterState extends State<RealFlutter> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            ElevatedButton(
              onPressed: () async {
                // Calculate distance between two points
                double distance = await FlutterBaiduMapapiUtils.calculateDistance(
                  LatLng(39.9042, 116.4074),
                  LatLng(39.9142, 116.4174),
                );
                print('Distance: $distance meters');
              },
              child: Text('Calculate Distance'),
            ),
            ElevatedButton(
              onPressed: () async {
                // Convert coordinates
                LatLng gcj02 = await FlutterBaiduMapapiUtils.bd09ToGcj02(
                  LatLng(39.9042, 116.4074),
                );
                print('GCJ02: ${gcj02.latitude}, ${gcj02.longitude}');
              },
              child: Text('Convert Coordinates'),
            ),
            ElevatedButton(
              onPressed: () async {
                // Get location information
                Location location = await FlutterBaiduMapapiUtils.getLocation();
                print('Location: ${location.latitude}, ${location.longitude}');
              },
              child: Text('Get Location'),
            ),
            ElevatedButton(
              onPressed: () async {
                // Search for POIs
                List<Poi> pois = await FlutterBaiduMapapiUtils.searchPoi(
                  ' keyword',
                  LatLng(39.9042, 116.4074),
                );
                print('POIs: ${pois.map((poi) => poi.name).join(', ')}');
              },
              child: Text('Search POIs'),
            ),
          ],
        ),
      ),
    );
  }
}

// The application flow is as follows:
// 1. The user clicks on one of the buttons to perform an action.
// 2. The corresponding function is called, which uses the FlutterBaiduMapapiUtils package to perform the action.
// 3. The result of the action is printed to the console.
// 4. The user can repeat steps 1-3 to perform different actions.

// Note: This code assumes that the FlutterBaiduMapapiUtils package has been initialized with a valid API key.
// In a real-world application, you would need to handle errors and exceptions properly, and add additional functionality as needed.
```

<-- END_MAIN -->