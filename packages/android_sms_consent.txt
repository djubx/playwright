<-- START_DESCRIPTION -->

**Android SMS Consent Flutter Package**
=====================================

The `android_sms_consent` Flutter package provides a simple way to request SMS consent from users on Android devices. This package is essential for apps that require access to SMS messages for authentication, verification, or other purposes.

**When to Use This Package**
---------------------------

You should use this package when your app needs to:

* Request SMS consent from users on Android devices
* Read SMS messages for authentication or verification purposes
* Comply with Google Play Store policies regarding SMS consent

**Features**
------------

* Requests SMS consent from users on Android devices
* Provides a simple and easy-to-use API for requesting SMS consent
* Complies with Google Play Store policies regarding SMS consent

<-- END_DESCRIPTION -->

<-- START_TUTORIAL -->

**Setup and Usage**
-------------------

### Step 1: Add the Package to Your Pubspec File

Add the following line to your `pubspec.yaml` file:
```yml
dependencies:
  android_sms_consent: ^1.0.0
```
### Step 2: Import the Package

Import the package in your Dart file:
```dart
import 'package:android_sms_consent/android_sms_consent.dart';
```
### Step 3: Request SMS Consent

Request SMS consent using the `requestSmsConsent` method:
```dart
await AndroidSmsConsent.requestSmsConsent();
```
### Platform-Specific Details

* On Android, this package uses the `android.permission.RECEIVE_SMS` permission to request SMS consent.
* On iOS, this package does not request any permissions, as SMS consent is not required on iOS devices.

### Configurations and Optimizations

* Make sure to add the `android.permission.RECEIVE_SMS` permission to your AndroidManifest.xml file:
```xml
<uses-permission android:name="android.permission.RECEIVE_SMS" />
```
* You can customize the SMS consent request dialog by providing a custom title and message:
```dart
await AndroidSmsConsent.requestSmsConsent(
  title: 'Custom Title',
  message: 'Custom Message',
);
```
<-- END_TUTORIAL -->

<-- START_MAIN -->

```dart
import 'package:flutter/material.dart';
import 'package:android_sms_consent/android_sms_consent.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Android SMS Consent Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: MyHomePage(),
    );
  }
}

class MyHomePage extends StatefulWidget {
  @override
  _MyHomePageState createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Android SMS Consent Demo'),
      ),
      body: Center(
        child: ElevatedButton(
          onPressed: _requestSmsConsent,
          child: Text('Request SMS Consent'),
        ),
      ),
    );
  }

  Future<void> _requestSmsConsent() async {
    // Request SMS consent using the requestSmsConsent method
    await AndroidSmsConsent.requestSmsConsent(
      title: 'Custom Title',
      message: 'Custom Message',
    );

    // Handle the result of the SMS consent request
    if (await AndroidSmsConsent.hasSmsConsent()) {
      print('SMS consent granted');
    } else {
      print('SMS consent denied');
    }
  }
}

// Application flow:
// 1. The user clicks the "Request SMS Consent" button.
// 2. The _requestSmsConsent method is called, which requests SMS consent using the requestSmsConsent method.
// 3. The user is presented with a dialog asking for SMS consent.
// 4. If the user grants SMS consent, the hasSmsConsent method returns true.
// 5. If the user denies SMS consent, the hasSmsConsent method returns false.
// 6. The result of the SMS consent request is printed to the console.

```

<-- END_MAIN -->