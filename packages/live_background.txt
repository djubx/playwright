<-- START_DESCRIPTION -->

Live Background Flutter Package
==============================

The `live_background` Flutter package allows you to set a live wallpaper as the background of your Flutter application. This package is useful when you want to create an immersive experience for your users.

Features
--------

*   Set a live wallpaper as the background of your Flutter application
*   Supports both Android and iOS platforms
*   Ability to pause and resume the live wallpaper

When to Use
------------

You can use this package when you want to create an application that requires an immersive experience, such as:

*   Games
*   Entertainment applications
*   Applications that require a dynamic background

<-- END_DESCRIPTION -->

<-- START_TUTORIAL -->

Tutorial
--------

### Step 1: Add the Package to Your Project

Add the following dependency to your `pubspec.yaml` file:

```yml
dependencies:
  flutter:
    sdk: flutter
  live_background: ^1.0.0
```

Then, run `flutter pub get` to get the package.

### Step 2: Import the Package

Import the package in your Dart file:

```dart
import 'package:live_background/live_background.dart';
```

### Step 3: Set the Live Wallpaper

Use the `LiveBackground` widget to set the live wallpaper:

```dart
LiveBackground(
  child: // Your child widget here,
  videoPath: // Path to your video file here,
)
```

### Platform-Specific Details

#### Android

On Android, you need to add the following permission to your `AndroidManifest.xml` file:

```xml
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
```

#### iOS

On iOS, you need to add the following key to your `Info.plist` file:

```xml
<key>NSAppTransportSecurity</key>
<dict>
  <key>NSAllowsArbitraryLoads</key>
  <true/>
</dict>
```

### Optimizations

To optimize the performance of the live wallpaper, you can use the following properties:

*   `isLooping`: Whether the video should loop or not.
*   `isMuted`: Whether the video should be muted or not.

<-- END_TUTORIAL -->

<-- START_MAIN -->

```dart
import 'package:flutter/material.dart';
import 'package:live_background/live_background.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Live Background Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: MyHomePage(),
    );
  }
}

class MyHomePage extends StatefulWidget {
  @override
  _MyHomePageState createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  // Path to the video file
  String _videoPath = 'assets/video.mp4';

  // Whether the video is playing or not
  bool _isPlaying = true;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Live Background Demo'),
      ),
      body: LiveBackground(
        child: Center(
          child: ElevatedButton(
            onPressed: () {
              // Pause or resume the video
              setState(() {
                _isPlaying = !_isPlaying;
              });
            },
            child: Text(_isPlaying ? 'Pause' : 'Resume'),
          ),
        ),
        videoPath: _videoPath,
        isLooping: true,
        isMuted: true,
      ),
    );
  }
}

// Application flow:
// 1. The user opens the app and is presented with a live wallpaper background.
// 2. The user can press the button to pause or resume the video.
// 3. When the user presses the button, the state of the video is updated.
// 4. The live wallpaper is updated based on the new state of the video.
```

// Summary: The code flows by first setting up the live wallpaper background, then allowing the user to interact with the button to pause or resume the video. The state of the video is updated based on the user's interaction, and the live wallpaper is updated accordingly.