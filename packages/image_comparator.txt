<-- START_DESCRIPTION -->
# Image Comparator Flutter Package
=====================================

The `image_comparator` Flutter package is a powerful tool for comparing images. It provides a simple and efficient way to compare two images and determine their similarity.

### When to Use

This package is useful in various scenarios, such as:

*   Image authentication: Compare an original image with a potentially tampered version to detect any changes.
*   Image search: Compare a query image with a database of images to find similar ones.
*   Quality control: Compare an image with a reference image to detect any defects or anomalies.

### Features

The `image_comparator` package offers the following features:

*   **Image comparison**: Compare two images and get a similarity score.
*   **Image preprocessing**: Apply filters and transformations to images before comparison.
*   **Platform support**: Supports both Android and iOS platforms.

<-- END_DESCRIPTION -->

<-- START_TUTORIAL -->
# Tutorial
==========

### Setup

To use the `image_comparator` package, add it to your `pubspec.yaml` file:

```yml
dependencies:
  flutter:
    sdk: flutter
  image_comparator: ^1.0.0
```

Then, run `flutter pub get` to install the package.

### Platform-Specific Configurations

#### Android

Add the following lines to your `android/app/src/main/AndroidManifest.xml` file:

```xml
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
```

#### iOS

Add the following lines to your `ios/Runner/Info.plist` file:

```xml
<key>NSPhotoLibraryUsageDescription</key>
<string>This app needs photo library access to compare images.</string>
```

### Using the Package

Import the package in your Dart file:

```dart
import 'package:image_comparator/image_comparator.dart';
```

Create an instance of the `ImageComparator` class:

```dart
ImageComparator _comparator = ImageComparator();
```

Compare two images:

```dart
Future<void> _compareImages() async {
  final Uint8List image1 = await _loadImage('image1.jpg');
  final Uint8List image2 = await _loadImage('image2.jpg');

  final double similarity = await _comparator.compare(image1, image2);

  print('Similarity: $similarity');
}
```

<-- END_TUTORIAL -->

<-- START_MAIN -->
```dart
import 'dart:typed_data';
import 'package:flutter/material.dart';
import 'package:image_comparator/image_comparator.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Image Comparator Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: MyHomePage(),
    );
  }
}

class MyHomePage extends StatefulWidget {
  @override
  _MyHomePageState createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  ImageComparator _comparator = ImageComparator();
  Uint8List _image1;
  Uint8List _image2;
  double _similarity;

  Future<void> _loadImage1() async {
    // Load image1.jpg from assets
    final ByteData data = await DefaultAssetBundle.of(context).load('image1.jpg');
    setState(() {
      _image1 = data.buffer.asUint8List();
    });
  }

  Future<void> _loadImage2() async {
    // Load image2.jpg from assets
    final ByteData data = await DefaultAssetBundle.of(context).load('image2.jpg');
    setState(() {
      _image2 = data.buffer.asUint8List();
    });
  }

  Future<void> _compareImages() async {
    // Compare _image1 and _image2
    final double similarity = await _comparator.compare(_image1, _image2);
    setState(() {
      _similarity = similarity;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Image Comparator Demo'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            ElevatedButton(
              onPressed: _loadImage1,
              child: Text('Load Image 1'),
            ),
            ElevatedButton(
              onPressed: _loadImage2,
              child: Text('Load Image 2'),
            ),
            ElevatedButton(
              onPressed: _compareImages,
              child: Text('Compare Images'),
            ),
            Text(_similarity != null ? 'Similarity: $_similarity' : ''),
          ],
        ),
      ),
    );
  }
}
```
// This is the main entry point of the app.
// The app uses the Material theme and has a single page with three buttons.
// The first two buttons load two images from assets.
// The third button compares the two images using the ImageComparator package.
// The similarity score is displayed on the screen.

// The app uses the ImageComparator package to compare two images.
// The package is initialized with an instance of the ImageComparator class.
// The compare method is used to compare the two images.
// The similarity score is returned as a double value.

// The app displays the similarity score on the screen.
// The score is displayed as a text widget.
// The text widget is updated with the new score every time the compare button is pressed.

// The app uses the setState method to update the UI.
// The setState method is called every time the compare button is pressed.
// The setState method updates the _similarity variable with the new score.
// The _similarity variable is used to display the score on the screen.

<-- END_MAIN -->