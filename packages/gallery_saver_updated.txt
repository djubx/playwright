<-- START_DESCRIPTION -->

# Gallery Saver Updated Flutter Package
=====================================

The `gallery_saver_updated` Flutter package allows you to save images and videos to the device's gallery. This package is an updated version of the original `gallery_saver` package and provides additional features and improvements.

### When to Use This Package

You can use this package when you need to save media files to the device's gallery, such as:

* Saving images or videos captured by the camera
* Saving images or videos downloaded from the internet
* Saving screenshots of your app

### Features

* Save images and videos to the device's gallery
* Supports both Android and iOS platforms
* Allows you to specify the album name and file name
* Handles file format conversion (e.g., from `jpg` to `png`)

<-- END_DESCRIPTION -->

<-- START_TUTORIAL -->

# Setup and Usage
================

### Add the Package to Your Project

Add the following line to your `pubspec.yaml` file:
```yml
dependencies:
  gallery_saver_updated: ^1.0.0
```
Then, run `flutter pub get` to install the package.

### Import the Package

Import the package in your Dart file:
```dart
import 'package:gallery_saver_updated/gallery_saver_updated.dart';
```
### Save an Image or Video

Use the `GallerySaver` class to save an image or video:
```dart
GallerySaver.saveImage(imageFile.path, albumName: 'My Album');
GallerySaver.saveVideo(videoFile.path, albumName: 'My Videos');
```
### Platform-Specific Details

* **Android:** Make sure to add the `WRITE_EXTERNAL_STORAGE` permission to your `AndroidManifest.xml` file:
```xml
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
```
* **iOS:** Make sure to add the `NSPhotoLibraryAddUsageDescription` key to your `Info.plist` file:
```xml
<key>NSPhotoLibraryAddUsageDescription</key>
<string>This app needs access to your photo library to save images.</string>
```
<-- END_TUTORIAL -->

<-- START_MAIN -->

```dart
import 'package:flutter/material.dart';
import 'package:gallery_saver_updated/gallery_saver_updated.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Gallery Saver Demo',
      home: MyHomePage(),
    );
  }
}

class MyHomePage extends StatefulWidget {
  @override
  _MyHomePageState createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  File _imageFile;
  File _videoFile;

  Future<void> _captureImage() async {
    final imageFile = await ImagePicker().getImage(source: ImageSource.camera);
    setState(() {
      _imageFile = File(imageFile.path);
    });
  }

  Future<void> _captureVideo() async {
    final videoFile = await ImagePicker().getVideo(source: ImageSource.camera);
    setState(() {
      _videoFile = File(videoFile.path);
    });
  }

  Future<void> _saveImage() async {
    if (_imageFile != null) {
      await GallerySaver.saveImage(_imageFile.path, albumName: 'My Album');
      print('Image saved to gallery!');
    } else {
      print('No image captured!');
    }
  }

  Future<void> _saveVideo() async {
    if (_videoFile != null) {
      await GallerySaver.saveVideo(_videoFile.path, albumName: 'My Videos');
      print('Video saved to gallery!');
    } else {
      print('No video captured!');
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Gallery Saver Demo'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            ElevatedButton(
              onPressed: _captureImage,
              child: Text('Capture Image'),
            ),
            SizedBox(height: 20),
            ElevatedButton(
              onPressed: _captureVideo,
              child: Text('Capture Video'),
            ),
            SizedBox(height: 20),
            ElevatedButton(
              onPressed: _saveImage,
              child: Text('Save Image to Gallery'),
            ),
            SizedBox(height: 20),
            ElevatedButton(
              onPressed: _saveVideo,
              child: Text('Save Video to Gallery'),
            ),
          ],
        ),
      ),
    );
  }
}

// The app starts by displaying a screen with four buttons: Capture Image, Capture Video, Save Image to Gallery, and Save Video to Gallery.
// When the user clicks the Capture Image or Capture Video button, the app opens the camera to capture an image or video.
// After capturing an image or video, the user can click the Save Image to Gallery or Save Video to Gallery button to save the media file to the gallery.
// The app uses the GallerySaver class to save the media file to the gallery, specifying the album name and file name.
// The app handles file format conversion (e.g., from jpg to png) and saves the media file to the specified album in the gallery.
```

<-- END_MAIN -->