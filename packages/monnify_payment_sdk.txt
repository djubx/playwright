<-- START_DESCRIPTION -->

# Monnify Payment SDK Flutter Package
=====================================

The `monnify_payment_sdk` Flutter package is a payment gateway that allows users to make transactions using various payment methods. It provides a seamless and secure payment experience for users.

## When to Use
--------------

Use this package when you need to integrate a payment gateway into your Flutter application. It is ideal for e-commerce apps, subscription-based services, and any other application that requires payment processing.

## Features
------------

*   Supports multiple payment methods (e.g., card, bank transfer, USSD)
*   Secure payment processing
*   Easy integration with Flutter applications
*   Customizable payment UI

<-- END_DESCRIPTION -->

<-- START_TUTORIAL -->

# Setting Up the Monnify Payment SDK
-------------------------------------

To use the `monnify_payment_sdk` package, follow these steps:

### Step 1: Add the Package to Your Project

Add the following dependency to your `pubspec.yaml` file:

```yml
dependencies:
  monnify_payment_sdk: ^1.0.0
```

Then, run `flutter pub get` to install the package.

### Step 2: Import the Package

Import the package in your Dart file:

```dart
import 'package:monnify_payment_sdk/monnify_payment_sdk.dart';
```

### Step 3: Initialize the SDK

Initialize the SDK with your API key and secret key:

```dart
MonnifyPaymentSdk.initialize(
  apiKey: 'YOUR_API_KEY',
  secretKey: 'YOUR_SECRET_KEY',
);
```

### Step 4: Create a Payment Method

Create a payment method (e.g., card, bank transfer, USSD):

```dart
MonnifyPaymentMethod paymentMethod = MonnifyPaymentMethod.card(
  cardNumber: '1234567890123456',
  expiryMonth: 12,
  expiryYear: 2025,
  cvv: '123',
);
```

### Step 5: Make a Payment

Make a payment using the created payment method:

```dart
MonnifyPaymentSdk.makePayment(
  paymentMethod: paymentMethod,
  amount: 1000,
  currency: 'NGN',
  reference: 'payment_reference',
);
```

### Platform-Specific Details

#### Android

Add the following to your `AndroidManifest.xml` file:

```xml
<uses-permission android:name="android.permission.INTERNET" />
```

#### iOS

Add the following to your `Info.plist` file:

```xml
<key>NSAppTransportSecurity</key>
<dict>
  <key>NSAllowsArbitraryLoads</key>
  <true/>
</dict>
```

<-- END_TUTORIAL -->

<-- START_MAIN -->

```dart
import 'package:flutter/material.dart';
import 'package:monnify_payment_sdk/monnify_payment_sdk.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Monnify Payment SDK Demo',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: MyHomePage(),
    );
  }
}

class MyHomePage extends StatefulWidget {
  @override
  _MyHomePageState createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  // Initialize the SDK
  Future<void> _initializeSdk() async {
    // Replace with your API key and secret key
    await MonnifyPaymentSdk.initialize(
      apiKey: 'YOUR_API_KEY',
      secretKey: 'YOUR_SECRET_KEY',
    );
  }

  // Create a payment method
  Future<MonnifyPaymentMethod> _createPaymentMethod() async {
    // Create a card payment method
    return MonnifyPaymentMethod.card(
      cardNumber: '1234567890123456',
      expiryMonth: 12,
      expiryYear: 2025,
      cvv: '123',
    );
  }

  // Make a payment
  Future<void> _makePayment() async {
    // Create a payment method
    final paymentMethod = await _createPaymentMethod();

    // Make a payment
    await MonnifyPaymentSdk.makePayment(
      paymentMethod: paymentMethod,
      amount: 1000,
      currency: 'NGN',
      reference: 'payment_reference',
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Monnify Payment SDK Demo'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            ElevatedButton(
              onPressed: _initializeSdk,
              child: Text('Initialize SDK'),
            ),
            SizedBox(height: 20),
            ElevatedButton(
              onPressed: _makePayment,
              child: Text('Make Payment'),
            ),
          ],
        ),
      ),
    );
  }
}

// Application flow:
// 1. The user clicks the "Initialize SDK" button to initialize the Monnify Payment SDK.
// 2. The user clicks the "Make Payment" button to create a payment method and make a payment.
// 3. The payment method is created using the _createPaymentMethod function.
// 4. The payment is made using the _makePayment function.
// 5. The payment result is displayed to the user.

```

<-- END_MAIN -->